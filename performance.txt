  
  original:
    28 mins -- test/ideal.s05e06.dvdrip.xvid-haggis.avi
❌  00:00:04 -> I've drawn all me savings out (-of the bank)
❌  00:00:33 -> I should have set this (-when I first bought it).
    00:01:10 -> That hit the spot.
    00:01:48 -> Thanks.
    00:01:54 -> Oh, my God!
    00:02:16 -> Cartoon Head's Triad have got a red bag.
    00:02:36 -> No.  -- line 35
  
 ?  00:07:54 -> Am I heckers gonna see him again!
    00:08:01 -> As far as I'm concerned, he's just another ex.
    00:08:01 -> The panther don't hang around an old kill
 ❌ 00:08:01 -> he (-just) slinks on through the jungle.
  
  high ...
    node asr.js --audio-quality=high --chunk-sec=90 --silence-aware test
    10 mins  $0.04  ended: $0.68
 ✅  I've drawn all my savings out of the bank.
 ❌  I should have said this when I first bought it.
 ❌  I hit the spot.
 ✅  Thanks.
 ✅  Oh, my God!
 ❌  Can't you Ned's try? I'd have got a red back. 
 ✅  No. -- line 50

 ❌  And my heck is going to see him again.
 ✅  As far as I'm concerned, he's just another ex.
 ❌  The panther don't hang around and all kill
 ✅  He just slinks on through the jungle.
 
  Balanced ...
    node asr.js --audio-quality=medium --chunk-sec=120 test
    8 mins   $0.08  ended: $0.76
 ✅  I've drawn all my savings out of the bank.
 ❌ I should have said this when I first bought it.
 ❌ I ate the spot.
 ❌ (-Thanks.)
 ❌ (-Oh, my God!)
 ❌ I can't do Ned's try. I'd have got a red back.
 ❌ (-No.)  -- line 50

 ✅  Am I heck who's going to see him again?
 ❌ As far as I'm concerned, he's just another egg.
 ❌ The panther don't hang around and all kill.
 ✅  He just slinks on through the jungle

  maximum ...
    run.sh --debug --audio-quality=max --consensus --retries=3 --chunk-sec=60 test
    started 

run.sh --debug --test-mins=2 --audio-quality=max --consensus --retries=3 --chunk-sec=60 test

# Test 60s chunks without preprocessing
./run.sh --debug --test-mins=2 --no-preprocess --chunk-sec=60 test

run.sh --debug  --audio-quality=max --consensus --retries=3 --chunk-sec=60 test


To check if segments are being excluded during deduplication, search the debug log for these specific patterns:

Search terms:

    "EXCLUDED:" - Shows segments that were removed

EXCLUDED: Very similar text (>80%)
EXCLUDED: Existing segment is longer/better

    "REPLACED:" - Shows when a segment replaced an existing one

REPLACED: Existing segment (current is longer)

    Deduplication summary line:

Deduplication: Result: X → Y segments (Z duplicates removed)

What to look for:

    High duplicate removal: If you see "50 duplicates removed" that might be too aggressive
    Specific phrases being excluded: Search for your known missing phrases
    Overlap percentage: Look for segments excluded with low overlap (should only exclude >70% overlap)
    Text similarity percentage: Should only exclude >80% similarity

Expected normal behavior:

    Most segments should show no deduplication messages (no significant overlaps)
    Only a few segments should be excluded, and only when they're genuine duplicates
    The deduplication summary should show a small number of duplicates removed (maybe 5-10 for a 28-minute video)

If you see many exclusions or specific phrases being removed, that indicates the deduplication logic is too aggressive.


 run.sh --debug  --temperature=0 --audio-quality=max --consensus --retries=3
 --chunk-sec=60 test

  run.sh --temperature=0 --audio-quality=max --consensus --retries=3 --chunk-sec=600 test  4 mins
  run.sh --temperature=0 --audio-quality=max --consensus --retries=3 --chunk-sec=1200 test  3 mins 
  21:40 -> 22:36

  1) run.sh --temperature=0 --audio-quality=max --consensus --retries=3 --chunk-sec=900 test  
  Karen Pirie S01E01 90mins --  6 mins -- $1.74 -> $1.94
  test/Karen Pirie S01E01 1080p ITV WEB-DL AAC 2.0 H.264-WhiskeyJack.enx.srt-1
  test/voxtral-srt.log-1
  lost sync ~ 6:00

  2) run.sh --temperature=0 --audio-quality=max --consensus --retries=3 --chunk-sec=300 test  
  Karen Pirie S01E01 90mins -- 10 mins  $0.18  ($1.94 -> $2.12)

  timing err: is 7:42 (468.3s) s.b. 8:12 (492s)  24s error

  3) asr --debug --test-mins=9 --chunk-sec=300 test 
  Karen Pirie S01E01 9mins -- 0:40

6:20 1:28  Segment 24: 386s - 389.6s: "She's there. She's there."

6:33 1:39  missing: "Rosie"
6:37 1:43  missing: "Rosie"

correct ...
8:20 3:20  Segment 25: 192s - 195s: "I'm walking amongst the ruins"
wrong ...
7:48 2:48  Segment 25: 168s - 171s: "I'm walking amongst the ruins"

node asr.js --test-mins=2 --chunk-sec=30 test 
  Karen Pirie S01E01 9mins -- 1.5mins $2.19 -> $2.19

      "args": ["--test-mins=1",  "--chunk-sec=30",  
               "--chunk-overlap=15", "test"]


